exports.id=3547,exports.ids=[3547],exports.modules={4332:(a,b,c)=>{"use strict";var d=c(28354),e=c(82246);function f(a,b){e.call(this,a,b)}d.inherits(f,e),f.prototype._processHeader=function(a){var b=a.split(" ");this._response.host=b[1],this._response.numeric_host=b[2].slice(1,-2),this._changeState(this.STATES.BODY)},f.prototype._processBody=function(a){if((a.match(/=/g)||[]).length>=3){var b=/([0-9.]+)[ ]*ms/.exec(a);this._times.push(parseFloat(b[1],10))}a.indexOf("---")>=0&&this._changeState(this.STATES.FOOTER)},f.prototype._processFooter=function(a){var b=a.match(/ ([\d.]+)%/);if(b&&(this._response.packetLoss=parseFloat(b[1],10)),(a.match(/[/]/g)||[]).length>=3){var c=/([0-9.]+)/g,d=c.exec(a),e=c.exec(a),f=c.exec(a),g=c.exec(a);d&&e&&f&&g&&(this._response.min=parseFloat(d[1],10),this._response.avg=parseFloat(e[1],10),this._response.max=parseFloat(f[1],10),this._response.stddev=parseFloat(g[1],10),this._changeState(this.STATES.END)),this._changeState(this.STATES.END)}},a.exports=f},11691:(a,b,c)=>{"use strict";var d=c(28354),e=c(91645),f=c(79646),g=c(21820),h=c(45573),i=c(29349);b.probe=function(a,b){try{var c;return c=b||{},void 0===c.v6&&(c.v6=e.isIPv6(a)),new Promise(function(b,e){var j=null,k=g.platform();try{var l=h.createBuilder(k),m=h.getExecutablePath(k,c.v6),n=l.getCommandArguments(a,c),o=l.getSpawnOptions();j=f.spawn(m,n,o)}catch(a){e(a);return}var p=i.createParser(a,k,c);j.once("error",function(){e(Error(d.format("ping.probe: %s. %s","there was an error while executing the ping program. ","Check the path or permissions...")))});var q=[];j.stdout.on("data",function(a){q.push(String(a))}),j.stderr.on("data",function(a){q.push(String(a))}),j.once("close",function(){q.join("").split("\n").forEach(p.eat,p),b(p.getResult())})})}catch(a){return Promise.reject(a)}}},29349:(a,b,c)=>{"use strict";var d=c(28354),e=c(45573),f=c(88037),g=c(4332),h=c(30845);function i(){}i.createParser=function(a,b,c){var i=c||{};if(!e.isPlatformSupport(b))throw Error(d.format("Platform |%s| is not support",b));var j=null;return e.isWindow(b)?j=new f(a,i):e.isMacOS(b)?j=new g(a,i):e.isLinux(b)&&(j=new h(a,i)),j},a.exports=i},30845:(a,b,c)=>{"use strict";var d=c(28354),e=c(82246),f=c(4332);function g(a,b){e.call(this,a,b)}d.inherits(g,e),g.prototype._processHeader=function(a){var b=a.split(" ");if(-1===b[1].indexOf("("))this._response.host=b[1],this._response.numeric_host=b[2].slice(1,-1);else{var c=b.slice(1,-3).join("").match(/([^\s()]+)/g);this._response.host=c.shift(),this._response.numeric_host=c.pop()}this._changeState(this.STATES.BODY)},g.prototype._processBody=function(a){f.prototype._processBody.call(this,a)},g.prototype._processFooter=function(a){f.prototype._processFooter.call(this,a)},a.exports=g},39013:(a,b,c)=>{"use strict";var d=c(28354),e={},f={numeric:!0,timeout:5,min_reply:1,v6:!1,sourceAddr:"",packetSize:32,extra:[]};e.getCommandArguments=function(a,b){var c=b||{},e=[];if(["numeric","timeout","min_reply","v6","sourceAddr","extra","packetSize"].forEach(function(a){"boolean"!=typeof c[a]&&(c[a]=c[a]||f[a])}),e.push(c.v6?"-6":"-4"),c.numeric||e.push("-a"),c.timeout&&(e=e.concat(["-w",d.format("%d",1e3*c.timeout)])),c.deadline)throw Error("There is no deadline option on windows");return c.min_reply&&(e=e.concat(["-n",d.format("%d",c.min_reply)])),c.sourceAddr&&(e=e.concat(["-S",d.format("%s",c.sourceAddr)])),c.packetSize&&(e=e.concat(["-l",d.format("%d",c.packetSize)])),c.extra&&(e=e.concat(c.extra)),e.push(a),e},e.getSpawnOptions=function(){return{windowsHide:!0}},a.exports=e},45573:(a,b,c)=>{"use strict";var d=c(28354),e=c(71069),f=c(55308),g=c(39013);function h(){}h.isLinux=function(a){return["aix","android","linux"].indexOf(a)>=0},h.isMacOS=function(a){return["darwin","freebsd"].indexOf(a)>=0},h.isWindow=function(a){return a&&null!==a.match(/^win/)},h.isPlatformSupport=function(a){return this.isWindow(a)||this.isLinux(a)||this.isMacOS(a)},h.getExecutablePath=function(a,b){if(!this.isPlatformSupport(a))throw Error(d.format("Platform |%s| is not support",a));var c=null;return"aix"===a?c="/usr/sbin/ping":h.isLinux(a)?c=b?"ping6":"ping":h.isWindow(a)?c=process.env.SystemRoot+"/system32/ping.exe":h.isMacOS(a)&&(c=b?"/sbin/ping6":"/sbin/ping"),c},h.createBuilder=function(a){if(!this.isPlatformSupport(a))throw Error(d.format("Platform |%s| is not support",a));var b=null;return h.isLinux(a)?b=e:h.isWindow(a)?b=g:h.isMacOS(a)&&(b=f),b},a.exports=h},55308:(a,b,c)=>{"use strict";var d=c(28354),e={},f={numeric:!0,timeout:2,deadline:!1,min_reply:1,v6:!1,sourceAddr:"",packetSize:56,extra:[]};e.getCommandArguments=function(a,b){var c=b||{},e=[];if(["numeric","timeout","deadline","min_reply","v6","sourceAddr","extra","packetSize"].forEach(function(a){"boolean"!=typeof c[a]&&(c[a]=c[a]||f[a])}),c.numeric&&e.push("-n"),c.timeout){if(b.v6)throw Error("There is no timeout option on ping6");e=e.concat(["-W",d.format("%d",1e3*c.timeout)])}return c.deadline&&(e=e.concat(["-t",d.format("%d",c.deadline)])),c.min_reply&&(e=e.concat(["-c",d.format("%d",c.min_reply)])),c.sourceAddr&&(e=e.concat(["-S",d.format("%s",c.sourceAddr)])),c.packetSize&&(e=e.concat(["-s",d.format("%d",c.packetSize)])),c.extra&&(e=e.concat(c.extra)),e.push(a),e},e.getSpawnOptions=function(){return{}},a.exports=e},71069:(a,b,c)=>{"use strict";var d=c(28354),e={},f={numeric:!0,timeout:2,deadline:!1,min_reply:1,v6:!1,sourceAddr:"",packetSize:56,extra:[]};e.getCommandArguments=function(a,b){var c=b||{},e=[];return["numeric","timeout","deadline","min_reply","v6","sourceAddr","extra","packetSize"].forEach(function(a){"boolean"!=typeof c[a]&&(c[a]=c[a]||f[a])}),c.numeric&&e.push("-n"),c.timeout&&(e=e.concat(["-W",d.format("%d",c.timeout)])),c.deadline&&(e=e.concat(["-w",d.format("%d",c.deadline)])),c.min_reply&&(e=e.concat(["-c",d.format("%d",c.min_reply)])),c.sourceAddr&&(e=e.concat(["-I",d.format("%s",c.sourceAddr)])),c.packetSize&&(e=e.concat(["-s",d.format("%d",c.packetSize)])),c.extra&&(e=e.concat(c.extra)),e.push(a),e},e.getSpawnOptions=function(){return{shell:!1,env:Object.assign(process.env,{LANG:"C"})}},a.exports=e},73547:(a,b,c)=>{var d={};d.sys=c(76651),d.promise=c(11691),a.exports=d},76651:(a,b,c)=>{"use strict";var d=c(11691);b.probe=function(a,b,c){return d.probe(a,c||{}).then(function(a){b(a.alive,null)}).catch(function(a){b(null,a)})}},82246:a=>{"use strict";function b(a,b){this._state=0,this._response={inputHost:a,host:"unknown",alive:!1,output:"unknown",time:"unknown",times:[],min:"unknown",max:"unknown",avg:"unknown",stddev:"unknown",packetLoss:"unknown"},this._times=[],this._lines=[],this._stripRegex=/[ ]*\r?\n?$/g,this._pingConfig=b||{}}b.prototype.STATES={INIT:0,HEADER:1,BODY:2,FOOTER:3,END:4},b.prototype._changeState=function(a){if(0>Object.keys(this.STATES).map(function(a){return this.STATES[a]},this).indexOf(a))throw Error("Unknown state");return this._state=a,this},b.prototype._processHeader=function(a){throw Error("Subclass should implement this method")},b.prototype._processBody=function(a){throw Error("Subclass should implement this method")},b.prototype._processFooter=function(a){throw Error("Subclass should implement this method")},b.prototype.eat=function(a){var b=[this.STATES.INIT,this.STATES.HEADER];this._lines.push(a);var c=a.replace(this._stripRegex,"");if(0===c.length);else if(b.indexOf(this._state)>=0)this._processHeader(c);else if(this._state===this.STATES.BODY)this._processBody(c);else if(this._state===this.STATES.FOOTER)this._processFooter(c);else if(this._state===this.STATES.END);else throw Error("Unknown state");return this},b.prototype.getResult=function(){var a=Object.assign({},this._response);if(a.output=this._lines.join("\n"),a.alive=this._times.length>0,a.alive&&(this._response.time=this._times[0],a.time=this._response.time,this._response.times=this._times,a.times=this._response.times),"unknown"===a.stddev&&a.alive){var b=this._times.length,c=this._times.reduce(function(b,c){var d=c-a.avg;return b+d*d},0);a.stddev=Math.round(1e3*Math.sqrt(c/b))/1e3}return["min","avg","max","stddev","packetLoss"].forEach(function(b){var c=a[b];"number"==typeof c&&(a[b]=c.toFixed(3))}),a},a.exports=b},88037:(a,b,c)=>{"use strict";var d=c(28354),e=c(82246);function f(a,b){e.call(this,a,b),this._ipv4Regex=/^([0-9]{1,3}\.){3}[0-9]{1,3}$/}d.inherits(f,e),f.prototype._processHeader=function(a){var b=-1===a.indexOf("["),c=a.split(" ");if(b)this._response.host=c.find(function(a){return this._ipv4Regex.test(a)},this),this._response.numeric_host=this._response.host;else{var d=c.find(function(a){return -1!==a.indexOf("[")},this),e=c.indexOf(d),f=/\[(.*)\]/.exec(d);f?this._response.numeric_host=f[1]:this._response.numeric_host="NA",this._response.host=c[e-1]}this._changeState(this.STATES.BODY)},f.prototype._processIPV6Body=function(a){var b=a.split(" "),c=b.filter(function(a){return a.indexOf("=")>=0||a.indexOf("<")>=0});if((c=c.map(function(a){var c=a,d=b.indexOf(a)+1;return d<b.length&&"ms"===b[d]&&(c+="ms"),c})).length>=1){var d=c.find(function(a){return a.search(/(ms|мс)/i)>=0}),e=/([0-9.]+)/.exec(d);this._times.push(parseFloat(e[1],10))}},f.prototype._processIPV4Body=function(a){var b=a.split(" ").filter(function(a){return a.indexOf("=")>=0||a.indexOf("<")>=0});if(b.length>=3){var c=this._pingConfig.packetSize,e=b.find(function(a){var b=d.format("=%d",c);return a.indexOf(b)>=0}),f=b.indexOf(e),g=b[f+1],h=/([0-9.]+)/.exec(g);this._times.push(parseFloat(h[1],10))}},f.prototype._processBody=function(a){if(":"===a.slice(-1))return void this._changeState(this.STATES.FOOTER);this._pingConfig.v6?this._processIPV6Body(a):this._processIPV4Body(a)},f.prototype._processFooter=function(a){var b=a.match(/([\d.]+)%/);if(b&&(this._response.packetLoss=parseFloat(b[1],10)),a.search(/(ms|мсек)/i)>=0){var c=/([0-9.]+)/g,d=c.exec(a),e=c.exec(a),f=c.exec(a);d&&e&&f&&(this._response.min=parseFloat(d[1],10),this._response.max=parseFloat(e[1],10),this._response.avg=parseFloat(f[1],10),this._changeState(this.STATES.END))}},a.exports=f}};