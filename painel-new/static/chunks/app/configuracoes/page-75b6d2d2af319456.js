(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8299],{4830:(e,a,t)=>{Promise.resolve().then(t.bind(t,9864))},5764:(e,a,t)=>{"use strict";t.d(a,{D:()=>n,ThemeProvider:()=>l});var s=t(5155),o=t(2115);let r=(0,o.createContext)();function l(e){let{children:a}=e,[t,l]=(0,o.useState)("claro");return(0,o.useEffect)(()=>{"escuro"===t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),(0,s.jsx)(r.Provider,{value:{tema:t,setTema:l},children:a})}function n(){return(0,o.useContext)(r)}},9864:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(5155),o=t(2115),r=t(5764);let l=[{key:"3h",label:"3 horas",seconds:10800},{key:"4h",label:"4 horas",seconds:14400},{key:"6h",label:"6 horas",seconds:21600},{key:"24h",label:"24 horas",seconds:86400},{key:"permanente",label:"Permanente (~100 dias)",seconds:864e4}];function n(){let[e,a]=(0,o.useState)("Lopesul wi-fi"),[t,n]=(0,o.useState)(!1),[d,c]=(0,o.useState)("4h"),{tema:i,setTema:m}=(0,r.D)();async function u(){var e;let a=(null==(e=l.find(e=>e.key===d))?void 0:e.seconds)||14400;if(!(await fetch("/api/configuracoes",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({sessionDefault:a})})).ok)return void alert("N\xe3o foi poss\xedvel salvar a sess\xe3o padr\xe3o.");alert("Sess\xe3o padr\xe3o salva!")}async function h(e){n(e),(await fetch("/api/configuracoes",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({maintenance:e})})).ok||(n(!e),alert("N\xe3o foi poss\xedvel atualizar o modo de manuten\xe7\xe3o (apenas admin).")),localStorage.setItem("manutencao",String(e))}return(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/configuracoes",{cache:"no-store"}).then(e=>e.json());n(!!(null==e?void 0:e.maintenance));let a=l.find(a=>a.seconds===(null==e?void 0:e.sessionDefault));c((null==a?void 0:a.key)||"4h")}catch(e){}let e=localStorage.getItem("nomeRede"),t=localStorage.getItem("tema"),s=localStorage.getItem("manutencao");e&&a(e),t&&m(t),s&&n("true"===s)})()},[m]),(0,s.jsxs)("div",{className:"p-6 md:p-8 bg-white dark:bg-[#1a2233] min-h-screen transition-colors",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Configura\xe7\xf5es do Sistema"}),(0,s.jsxs)("div",{className:"bg-white dark:bg-[#232e47] rounded-xl p-6 shadow space-y-6 max-w-2xl mb-8",children:[(0,s.jsx)("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Sess\xe3o do Dashboard"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Dura\xe7\xe3o padr\xe3o do login (usada quando o formul\xe1rio de login n\xe3o informa explicitamente)."}),(0,s.jsx)("label",{className:"block font-medium mb-1 text-sm dark:text-gray-200",children:"Dura\xe7\xe3o padr\xe3o da sess\xe3o"}),(0,s.jsx)("select",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-4 py-2 text-sm bg-white dark:bg-[#1a2233] text-gray-800 dark:text-gray-100",value:d,onChange:e=>c(e.target.value),children:l.map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))}),(0,s.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md",onClick:u,children:"Salvar Sess\xe3o Padr\xe3o"})]}),(0,s.jsxs)("form",{onSubmit:function(a){a.preventDefault(),localStorage.setItem("nomeRede",e),localStorage.setItem("tema",i),alert("Prefer\xeancias locais salvas.")},className:"bg-white dark:bg-[#232e47] rounded-xl p-6 shadow space-y-6 max-w-2xl",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-medium mb-1 text-sm dark:text-gray-200",children:"Nome da Rede"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"LOPESUL WI-FI",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-4 py-2 text-sm bg-white dark:bg-[#1a2233] text-gray-800 dark:text-gray-100"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-medium mb-1 text-sm dark:text-gray-200",children:"Tema do Sistema"}),(0,s.jsxs)("select",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-4 py-2 text-sm bg-white dark:bg-[#1a2233] text-gray-800 dark:text-gray-100",value:i,onChange:e=>m(e.target.value),children:[(0,s.jsx)("option",{value:"claro",children:"Claro"}),(0,s.jsx)("option",{value:"escuro",children:"Escuro"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-medium mb-1 text-sm dark:text-gray-200",children:"Modo de Manuten\xe7\xe3o"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,s.jsx)("input",{type:"checkbox",id:"manutencao",checked:t,onChange:e=>h(e.target.checked),className:"w-4 h-4"}),(0,s.jsx)("label",{htmlFor:"manutencao",className:"text-sm dark:text-gray-200",children:"Ativar modo de manuten\xe7\xe3o (bloqueia operadores comuns)"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Enquanto ativo, apenas o admin consegue acessar o dashboard."})]}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md",children:"Salvar Altera\xe7\xf5es (Locais)"})]})]})}}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=4830)),_N_E=e.O()}]);