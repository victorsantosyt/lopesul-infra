(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{1773:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(5155),l=r(2115);function s(){let[e,t]=(0,l.useState)(""),[r,s]=(0,l.useState)(""),[n,o]=(0,l.useState)(!1),i=(0,l.useRef)(null),u=(0,l.useRef)(null);async function c(t){if(t.preventDefault(),!e||!r)return void alert("Informe usu\xe1rio e senha.");try{o(!0);let t=await fetch("/api/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({usuario:e,senha:r})}),a=await t.json();if(!t.ok)return void alert((null==a?void 0:a.error)||"Falha ao entrar.");window.location.href=function(){let e=new URLSearchParams(window.location.search).get("next")||"",t="";try{t=decodeURIComponent(e).trim()}catch(r){t=(e||"").trim()}return!t||"/"!==t[0]||t.startsWith("//")||t.startsWith("/api")||!/^\/[A-Za-z0-9\-._~\/%?#[\]@!$&'()*+,;=]*$/.test(t)?"/dashboard":t}()}catch(e){console.error(e),alert("Erro de rede ao entrar.")}finally{o(!1)}}return(0,l.useEffect)(()=>{try{localStorage.removeItem("expiraEm")}catch(e){}},[]),(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-transparent",children:(0,a.jsxs)("form",{ref:u,onSubmit:c,className:"w-full max-w-sm rounded-2xl bg-slate-800/90 ring-1 ring-inset ring-white/10 shadow-xl px-6 py-6 space-y-4 backdrop-blur-sm transition-colors",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-gray-100",children:"Ol\xe1 Operador"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-sm text-slate-300",children:"Usu\xe1rio"}),(0,a.jsx)("input",{className:"w-full rounded-lg px-4 py-2 bg-slate-900/40 text-slate-100 border border-white/10 placeholder-slate-400 outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Usu\xe1rio",autoComplete:"username",value:e,onChange:e=>t(e.target.value),autoFocus:!0,onKeyDown:e=>{if("Enter"===e.key){var t;e.preventDefault(),null==(t=i.current)||t.focus()}}})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-sm text-slate-300",children:"Senha"}),(0,a.jsx)("input",{className:"w-full rounded-lg px-4 py-2 bg-slate-900/40 text-slate-100 border border-white/10 placeholder-slate-400 outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Senha",type:"password",autoComplete:"current-password",value:r,onChange:e=>s(e.target.value),ref:i,onKeyDown:e=>{if("Enter"===e.key){var t,r;e.preventDefault(),null==(r=u.current)||null==(t=r.requestSubmit)||t.call(r)}}})]}),(0,a.jsx)("button",{type:"submit",disabled:n,className:"w-full px-4 py-2 rounded-lg font-medium bg-blue-600 hover:bg-blue-700 disabled:opacity-60 text-white transition-colors",children:n?"Entrandoâ€¦":"Entrar"})]})})}},3705:(e,t,r)=>{Promise.resolve().then(r.bind(r,1773))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=3705)),_N_E=e.O()}]);